!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(i,a){var r=6,o=i.event.add,u=i.event.remove,d=function(e,t,n){i.event.trigger(t,n,e)},c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)},m={textarea:!0,input:!0,select:!0,button:!0},s={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},f="touchmove",v="touchend",g="touchend";function p(e){var n=e,i=!1,a=!1;function t(e){i?(n(),c(t),i=!(a=!0)):a=!1}this.kick=function(e){i=!0,a||t()},this.end=function(e){var t=n;e&&(a?(n=i?function(){t(),e()}:e,i=!0):e())}}function e(){return!0}function h(){return!1}function t(e){e.preventDefault()}function n(e){m[e.target.tagName.toLowerCase()]||e.preventDefault()}function l(e,t){var n,i;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,i=e.length;++n<i;)if(e[n].identifier===t)return e[n]}function X(e,t){var n=l(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function Y(e){_(e,e.data,e,y)}function w(e){y()}function y(){u(document,s.move,Y),u(document,s.cancel,w)}function T(e){var t=e.data,n=X(e,t);n&&_(e,t,n,k)}function S(e){var t=e.data;l(e.changedTouches,t.identifier)&&k(t.identifier)}function k(e){u(document,"."+e,T),u(document,"."+e,S)}function _(e,t,n,i){var a=n.pageX-t.startX,o=n.pageY-t.startY;a*a+o*o<r*r||function(e,t,n,i,a,o){var r,u;t.target;r=e.targetTouches,u=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=i,t.distY=a,t.deltaX=i,t.deltaY=a,t.pageX=n.pageX,t.pageY=n.pageY,t.velocityX=i/u,t.velocityY=a/u,t.targetTouches=r,t.finger=r?r.length:1,t._handled=q,t._preventTouchmoveDefault=function(){e.preventDefault()},d(t.target,t),o(t.identifier)}(e,t,n,a,o,i)}function q(){return this._handled=e,!1}function A(e){e._handled()}function D(e){var t=e.data.event,n=e.data.timer;b(t,e,e.timeStamp,n)}function F(e){var t=e.data.event,n=e.data.timer;u(document,s.move,D),u(document,s.end,F),j(t,n,function(){setTimeout(function(){u(t.target,"click",h)},0)})}function R(e){var t=e.data.event,n=e.data.timer,i=X(e,t);i&&(e.preventDefault(),t.targetTouches=e.targetTouches,b(t,i,e.timeStamp,n))}function x(e){var t,n=e.data.event,i=e.data.timer;l(e.changedTouches,n.identifier)&&(t=n,u(document,"."+t.identifier,R),u(document,"."+t.identifier,x),j(n,i))}function b(e,t,n,i){var a=n-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/a,e.velocityY=.3*e.velocityY+.7*e.deltaY/a,e.pageX=t.pageX,e.pageY=t.pageY,i.kick()}function j(e,t,n){t.end(function(){return e.type="moveend",d(e.target,e),n&&n()})}i.event.special.movestart={setup:function(e,t,n){return o(this,"movestart.move",A),!0},teardown:function(e){return u(this,"dragstart drag",t),u(this,"mousedown touchstart",n),u(this,"movestart",A),!0},add:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(o(this,"dragstart."+e.guid+" drag."+e.guid,t,a,e.selector),o(this,"mousedown."+e.guid,n,a,e.selector))},remove:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(u(this,"dragstart."+e.guid+" drag."+e.guid),u(this,"mousedown."+e.guid))},_default:function(t){var n,e;t._handled()&&(e={event:n={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},timer:new p(function(e){d(t.target,n)})},t.identifier===a?(o(t.target,"click",h),o(document,s.move,D,e),o(document,s.end,F,e)):(t._preventTouchmoveDefault(),o(document,f+"."+t.identifier,R,e),o(document,g+"."+t.identifier,x,e)))}},i.event.special.move={setup:function(){o(this,"movestart.move",i.noop)},teardown:function(){u(this,"movestart.move",i.noop)}},i.event.special.moveend={setup:function(){o(this,"movestart.moveend",i.noop)},teardown:function(){u(this,"movestart.moveend",i.noop)}},o(document,"mousedown.move",function(e){var t,n;1!==(n=e).which||n.ctrlKey||n.altKey||(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},o(document,s.move,Y,t),o(document,s.cancel,w,t))}),o(document,"touchstart.move",function(e){var t,n;m[e.target.tagName.toLowerCase()]||(n={target:(t=e.changedTouches[0]).target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},o(document,f+"."+t.identifier,T,n),o(document,v+"."+t.identifier,S,n))}),"function"==typeof Array.prototype.indexOf&&function(e,t){for(var n=["changedTouches","targetTouches"],i=n.length;i--;)-1===e.event.props.indexOf(n[i])&&e.event.props.push(n[i])}(i)});